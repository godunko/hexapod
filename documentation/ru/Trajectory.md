# Траектория движения

С пульта управления движение робота задаётся в системе координат тела как вектор линейной скорости (в виде составляющих по осям X и Y) $v_B = (v_{xB}, v_{yB})$ и вектор угловой скорости (скорости рысканья) $\omega_B$. 
Получается, что центр робота совершает движение по дуге окружности с радиусом $r_m$ вокруг некоторой точки $C_{mB} = (C_{xB}, C_{yB})$.

Радиус траектории можно вычислить из отношения длин векторов линейной и уголовой скоростей:

$$
r_m = \frac{v_B}{\omega_B}
$$

И хотя формально можно считать, что движение по прямой есть движение по окружности с бесконечным радиусом, мне это не нравится; да и вводит сложности при вычислениях с плавающий точкой. 
Видимо случай чисто линейного движения нужно рассматривать отдельно.

Вектор линейной скорости является касательным вектором к окружности траектории, следовательно вектор из точки касания в центр окружности будет ортогонален к вектору линейной скорости.
Получить его можно например из единичного вектора линейной скорости поворотом на 90 градусов влево (при положительном значении угловой скорости) или на 90 градусов вправо (при отрицательном значении угловой скорости).

$$
\hat{C} = R * \hat{v_B} =  \left\lbrack \matrix{cos \theta & -sin \theta \cr sin \theta & cos \theta } \right\rbrack * \left\lbrack \matrix{\hat{v_{xB}} \cr \hat{v_{yB}}} \right\rbrack
$$

Для положительного значения угловой скорости

$$
\hat{C} =  \left\lbrack \matrix{0 & -1 \cr 1 & 0 } \right\rbrack * \left\lbrack \matrix{\hat{v_{xB}} \cr \hat{v_{yB}}} \right\rbrack = \left\lbrack \matrix{-\hat{v_{yB}} \cr \hat{v_{xB}}} \right\rbrack
$$

Для отрицательного значения угловой скорости

$$
\hat{C} =  \left\lbrack \matrix{0 & 1 \cr -1 & 0 } \right\rbrack * \left\lbrack \matrix{\hat{v_{xB}} \cr \hat{v_{yB}}} \right\rbrack = \left\lbrack \matrix{\hat{v_{yB}} \cr -\hat{v_{xB}}} \right\rbrack
$$

Точка касания находится в центре системы координат тела робота, а длина вектора из точки касания до центра окружности равна радиусу окружности; остаётся получить значения координат центра окружности:

$$
C_{mB} = r_m * \hat{C}
$$

??? Радиус будет отрицательным, необходимо проверить, что это позволит отказаться от двух разных формул поиска единичного вектора к нормали к окружности.
